<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise Async Await</title>
</head>
<body>
    <h1>Q1. Write one example explaining how you can write a callback function.</h1>
    <h2>Sol-</h2>
    <pre>
        function abc(){
            var a=20;
            function xyz(){
                console.log(a);
            }
            xyz();
        }abc();
       <h4> Output: 10:-- As closure function is an example for the callback function.</h4>
    </pre>
    <h1>Q2.Write a callback function to print numbers from 1 to 7, in which 1 should be printed after 1 sec, 2 should be printed after 2 sec, 3 should be printed after 3 sec, and so on.
        Explain callback hell.
        Numbers
        1 2 3 4 5 6 7</h1>
    <h2>Sol-</h2>
    <pre>setTimeout(() =>{
        console.log('1')
        setTimeout(() => {
            console.log('2')
            setTimeout(() =>{
                console.log('3')
                setTimeout(() =>{
                     console.log('4')
                     setTimeout(() => {
                       console.log('5')
                       setTimeout(() =>{
                          console.log('6')
                            setTimeout(() =>{
                              console.log('7')
                            },7000)
                        },6000)
                    },5000);
                },4000);
            },3000)
        },2000);
    },1000);
    
 </pre>
 <h4>Output: 1 2 3 4 5 6 7 :-- The callback hell is the way of a coding callback funtions with in the funtions goes on calling one over the other in a way of pyramid way of structure of coding
    all the callback funtions. such structure way of pyramid  is known as Callback Hell.</h4>

<h1>Q3. Write the promise function to print numbers from 1 to 7, in which 1 should be printed after 1 sec, 2 should be printed after 2 sec, 3 should be printed after 3 sec, and so on.
    Numbers
    1 2 3 4 5 6 7 </h1>
<h2>Sol-</h2>
<pre> const printnumber =(time,func) => {
         return new Promise((resolve,reject) =>{
             if(func){
                 setTimeout(() => {
                     resolve (func());
                 },time)
             }else{
                 reject('give valid number');
             }
         })
     }
    
     printnumber(0, () => console.log("Numbers"))
     .then(() => {
         return printnumber(1000, () => console.log('1'))
     })
     .then(() => {
         return printnumber(2000, () => console.log('2'))
     })
     .then(() => {
         return printnumber(3000, () => console.log('3'))
     })
     .then(() => {
         return printnumber(4000, () => console.log('4'))
     })
     .then(() => {
         return printnumber(5000, () => console.log('5'))
     })
     .then(() => {
         return printnumber(6000, () => console.log('6'))
     })
     .then(() => {
         return printnumber(7000, () => console.log('7'))
     })</pre>

     <h1>Q4.Create a promise function accepting an argument, if yes is passed to the function then it should go to resolved state and print Promise Resolved, and if nothing is passed
        then it should go to reject the state and catch the error and print Promise Rejected. </h1>
        <h2>Sol-</h2>
        <pre>function prom(x){
            return new Promise((resolve,reject) => {
                if(x === "yes"){
                    resolve("promise resolved");
                }else{
                    reject("promise rejected");
                }
            });
        }
        prom("yes")
        .then((x) => console.log(x))
        .catch((y) => console.log(y))
    <h4>Output- promise resolved </h4></pre>

    <h1>Q5. Create examples to explain callback function</h1>
    <h2>Sol-</h2>
    <pre>function sum(a,b){
        return a+b;
    }
    function xyz(name, age){
        console.log(name,age);
    }
    xyz('EA',age(20,30))
<h4>Output- EA 50<br>
Explain- The inner function is depend upon the outer function is known as Callback function.
</h4></pre>

<h1>Q6. Create examples to explain callback hell function. </h1>
<h2>Sol-</h2>
<pre>setTimeout(() => {
    console.log('a');
    setTimeout(() => {
        console.log('b');
        setTimeout(() => {
            console.log('c');
        },3000)
    },2000)
},1000)
<h4>Output- Output- a b c 
Explain- It is process which happens when do multiple callback within a function is known as callback hell function.
         The shape of the resulting code structure looks like a pyramid and hence callback hell is also called the "pyramid of the doom".
         It make the code very difficult to understand and maintain. </h4></pre>

         <h1>Q7. Create examples to explain promises function.</h1>
         <h2>Sol-</h2>
         <pre> function mypromise(){
            return new Promise((resolve, reject) => {
                let count=3;
                if(count > 2){
                    resolve("great");
                }else {
                    reject("low");
                }
            })
        }
        mypromise.then((x) => console.log(x))
        .catch((y) => console.log(y))
        <h4>Output- great
        Explain- Promise is a proxy for a value not necessarily known when the promise is created.</h4></pre>

        <h1>Q8. Create example to explain async await function. </h1>
        <h2>Sol-</h2>
        <pre>function createorder(){
            return new Promise((resolve,reject) => {
                setTimeout(() => {
                    console.log("order created");
                    resolve();
                },1000);
            });
        }
        async function orderplaced(){
            try{
                await createorder();
                console.log("order placed");
            }
            catch{
                console.log("error");
            }
        }
        orderplaced();
    <h4>Output- order created
        order placed</h4></pre>

    <h1>Q9. Create example to explain promise.all function. </h1>
    <h2>Sol-</h2>
    <pre>const Abc(){
        new Promise((resolve,reject) => {
            setTimeout(() => {
                resolve()
            },1000);
        });
    }
    const xyz(){
        new Promise((resolve,reject) => {
            setTimeout(() => {
                resolve()
            },2000);
        });
    }
    const step2(){
        console.log("abc,xyz");
    }
    Promise.all([Abc(),xyz()]).then(() => {
        step2();
    });
    .catch(() => {
        console.log("error");
    });</pre>
    <script src="./script.js"></script>
</body>
</html>